(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-addInform"],{"095d":function(e,t,a){"use strict";a.r(t);var i=a("60e9"),n=a("9024");for(var s in n)"default"!==s&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("f040");var o,h=a("f0c5"),r=Object(h["a"])(n["default"],i["b"],i["c"],!1,null,"d5157724",null,!1,i["a"],o);t["default"]=r.exports},"297a":function(e,t,a){var i=a("ef15");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("62f08103",i,!0,{sourceMap:!1,shadowMode:!1})},"60e9":function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-label",[e._v("你的名字"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-uni-label",[e._v("请假类型"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"事假/病假"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),a("v-uni-label",[e._v("开始日期/时间"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-view",{staticClass:"pickerView"},[a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",left:"0px"},attrs:{mode:"date",value:"2021-"+e.startDate},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindStartDate.apply(void 0,arguments)}}},[""==e.startDate?a("v-uni-view",{staticStyle:{"line-height":"20px",color:"gray"}},[e._v("开始日期")]):e._e(),""!=e.startDate?a("v-uni-view",{staticStyle:{"line-height":"20px"}},[e._v(e._s(e.startDate))]):e._e()],1),a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",right:"0px"},attrs:{mode:"time",value:e.startTime},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindStartTime.apply(void 0,arguments)}}},[""==e.startTime?a("v-uni-view",{staticStyle:{"line-height":"20px",color:"gray"}},[e._v("开始时间")]):e._e(),""!=e.startTime?a("v-uni-view",{staticStyle:{"line-height":"20px"}},[e._v(e._s(e.startTime))]):e._e()],1)],1),a("v-uni-label",[e._v("结束日期/时间"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-view",{staticClass:"pickerView"},[a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",left:"0px"},attrs:{mode:"date",value:"2020-"+e.endDate},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindEndDate.apply(void 0,arguments)}}},[""==e.endDate?a("v-uni-view",{staticStyle:{"line-height":"20px",color:"gray"}},[e._v("结束日期")]):e._e(),""!=e.endDate?a("v-uni-view",{staticStyle:{"line-height":"20px"}},[e._v(e._s(e.endDate))]):e._e()],1),a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",right:"0px"},attrs:{mode:"time",value:e.endTime},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindEndTime.apply(void 0,arguments)}}},[""==e.endTime?a("v-uni-view",{staticStyle:{"line-height":"20px",color:"gray"}},[e._v("结束时间")]):e._e(),""!=e.endTime?a("v-uni-view",{staticStyle:{"line-height":"20px"}},[e._v(e._s(e.endTime))]):e._e()],1)],1),a("v-uni-label",[e._v("紧急联系人"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"手机号"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),a("v-uni-label",[e._v("请假原因"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"(不少于10字)"},model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}}),a("v-uni-label",[e._v("目的地"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"福建省/厦门市/集美区/万科云城"},model:{value:e.cc,callback:function(t){e.cc=t},expression:"cc"}}),a("v-uni-label",[e._v("定位位置"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"福建省厦门市集美区博闻路"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),a("v-uni-view",{staticClass:"sub",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sub.apply(void 0,arguments)}}},[e._v("提交")])],1)},s=[]},9024:function(e,t,a){"use strict";a.r(t);var i=a("bac2"),n=a.n(i);for(var s in i)"default"!==s&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},bac2:function(e,t,a){"use strict";(function(e){a("c975"),a("a9e3"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{leaves:null,name:"",startDate:"",startTime:"",endDate:"",endTime:"",countDate:"",reason:"",phone:"",address:"福建省厦门市集美区博闻路",cc:"许落汀",oneCheck:"宋益国",oneCheckDate:"",oneCheckTime:"",oneCheckStatus:"辅导员",oneCheckIdea:"无",twoCheck:"",twoCheckDate:"",twoCheckTime:"",twoCheckStatus:"",twoCheckIdea:"",threeCheck:"",threeCheckDate:"",threeCheckTime:"",threeCheckStatus:"",threeCheckIdea:"",state:"正在休假中",type:"",colorIndex:0,imgFile:"",pwd:""}},onShow:function(){if(this.pwd=uni.getStorageSync("pwd"),this.pwd!=getApp().globalData.pwd&&uni.navigateTo({url:"login"}),this.leaves=uni.getStorageSync("todaySchoolLeaves"),""!=this.leaves&&null!=this.leaves||(this.leaves=[]),this.leaves.length>0){var e=this.leaves[this.leaves.length-1];this.name=e.name,this.type=e.type,this.reason=e.reason,this.phone=e.phone,this.address=e.address,this.cc=e.cc,this.oneCheck=e.oneCheck,this.twoCheck=e.twoCheck,this.threeCheck=e.threeCheck,this.oneCheckStatus=e.oneCheckStatus,this.twoCheckStatus=e.twoCheckStatus,this.threeCheckStatus=e.threeCheckStatus,this.oneCheckIdea=e.oneCheckIdea,this.twoCheckIdea=e.twoCheckIdea,this.threeCheckIdea=e.threeCheckIdea}},methods:{difference:function(t,a){var i=navigator.userAgent;i.indexOf("Safari")>-1&&(t=t.replace(/\-/g,"/"),a=a.replace(/\-/g,"/"));var n=new Date(t).getTime(),s=new Date(a).getTime(),o=s-n,h=Math.floor(o/864e5),r=o%864e5,l=Math.floor(r/36e5),c=r%36e5,d=Math.floor(c/6e4),u="";Number(h)==Number(0)||isNaN(h)||(u=u+h.toString()+"天"),Number(l)==Number(0)||isNaN(l)||(u=u+l.toString()+"小时"),Number(d)==Number(0)||isNaN(d)||(u=u+d.toString()+"分钟"),this.countDate=u,e("log",this.countDate," at pages/addInform.vue:177")},sub:function(){var t=this;if(""!=this.name&&""!=this.type&&""!=this.startDate&&""!=this.startTime&&""!=this.endDate&&""!=this.endTime&&""!=this.reason&&""!=this.address)if(this.startDate!=this.endDate||this.startTime!=this.endTime)if(this.reason.length<10)this.toast("请假原因不能少于10字","none");else{this.difference(this.startDate+" "+this.startTime,this.endDate+" "+this.endTime);var a={},i=new Date;a["name"]=this.name,a["type"]=this.type,a["startDate"]=this.startDate+" "+this.startTime,a["endDate"]=this.endDate+" "+this.endTime,a["reason"]=this.reason,a["phone"]=this.phone,a["address"]=this.address,a["cc"]=this.cc,a["oneCheck"]=this.oneCheck,a["oneCheckDate"]=this.oneCheckDate+" "+this.oneCheckTime,a["oneCheckStatus"]=this.oneCheckStatus,a["oneCheckIdea"]=this.oneCheckIdea,a["twoCheck"]=this.twoCheck,a["twoCheckDate"]=this.twoCheckDate+" "+this.twoCheckTime,a["twoCheckStatus"]=this.twoCheckStatus,a["twoCheckIdea"]=this.twoCheckIdea,a["threeCheck"]=this.threeCheck,a["threeCheckDate"]=this.threeCheckDate+" "+this.threeCheckTime,a["threeCheckStatus"]=this.threeCheckStatus,a["threeCheckIdea"]=this.threeCheckIdea,a["state"]=this.state,a["applyDate"]=(Number(i.getMonth()+1).toString().length<=1?"0"+Number(i.getMonth()+1):Number(i.getMonth()+1))+"-"+(i.getDate().toString().length<=1?"0"+i.getDate():i.getDate())+" "+(i.getHours().toString().length<=1?"0"+i.getHours():i.getHours())+":"+(i.getMinutes().toString().length<=1?"0"+i.getMinutes():i.getMinutes()),a["imgFile"]=this.imgFile,a["countDate"]=this.countDate,e("log","this1:"+this.countDate," at pages/addInform.vue:228"),this.leaves.push(a),e("log",this.leaves," at pages/addInform.vue:230"),uni.setStorage({key:"todaySchoolInforms",data:t.leaves,success:function(){t.toast("提交成功","success"),setTimeout((function(){uni.navigateBack({delta:1})}),1600)},fail:function(){t.toast("提交失败，请重试","none")}})}else this.toast("开始日期不能等于结束日期","none");else this.toast("请将必填信息填写完整","none")},bindStartDate:function(t){e("log",t.detail.value.substring(5,t.detail.value.length)," at pages/addInform.vue:251"),this.startDate=t.detail.value.substring(5,t.detail.value.length)},bindStartTime:function(t){e("log",t.detail.value," at pages/addInform.vue:256"),this.startTime=t.detail.value},bindEndDate:function(t){e("log",t.detail.value.substring(5,t.detail.value.length)," at pages/addInform.vue:261"),this.endDate=t.detail.value.substring(5,t.detail.value.length)},bindEndTime:function(t){e("log",t.detail," at pages/addInform.vue:266"),this.endTime=t.detail.value},bindOneCheckDate:function(t){e("log",t.detail.value.substring(5,t.detail.value.length)," at pages/addInform.vue:271"),this.oneCheckDate=t.detail.value.substring(5,t.detail.value.length)},bindOneCheckTime:function(t){e("log",t.detail," at pages/addInform.vue:276"),this.oneCheckTime=t.detail.value},bindColor:function(t){e("log","picker发送选择改变，携带值为",t.target.value," at pages/addInform.vue:301"),this.colorIndex=t.target.value,this.changColorTitleStyle()},changColorTitleStyle:function(){return 0==this.colorIndex?"line-height: 45px;color:#F79A0D;":1==this.colorIndex?"line-height: 45px;color:black;":2==this.colorIndex?"line-height: 45px;color:red;":void 0},toast:function(e,t){uni.showToast({title:e,icon:t,duration:2e3,mask:!0})}}};t.default=i}).call(this,a("0de9")["log"])},ef15:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,"uni-input[data-v-d5157724],\nuni-picker[data-v-d5157724]{border:%?1?% solid #ccc;margin:%?10?%;margin-top:%?2?%;margin-bottom:%?10?%;padding-left:%?5?%;padding-right:%?5?%;height:%?45?%;border-radius:%?5?%;transition:all .3s ease}uni-input[data-v-d5157724]:hover{border:%?1?% solid #007aff;box-shadow:%?0?% %?0?% %?5?% %?1?% #eee}uni-picker[data-v-d5157724]:hover{border:%?1?% solid #007aff;box-shadow:%?0?% %?0?% %?5?% %?1?% #eee}uni-label[data-v-d5157724]{margin-left:%?10?%;color:#2c906f}.sub[data-v-d5157724]{background-color:#38b48b;margin:%?20?%;color:#fff;text-align:center;font-size:%?35?%;height:%?75?%;line-height:%?75?%;border-radius:%?10?%}.pickerView[data-v-d5157724]{width:100%;position:relative;height:%?45?%;margin-bottom:%?20?%;text-align:center;z-index:0\n}.pickerView uni-picker[data-v-d5157724]{z-index:9999;background-color:#fff}.border-center[data-v-d5157724]{border-top:%?1?% solid grey;width:50%;margin:0 auto;position:relative;top:%?25?%}.subRed[data-v-d5157724]{font-size:%?20?%;color:red}.subGray[data-v-d5157724]{font-size:%?20?%;color:#ffa400}",""]),e.exports=t},f040:function(e,t,a){"use strict";var i=a("297a"),n=a.n(i);n.a}}]);