(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-addLeave"],{"0733":function(e,t,a){"use strict";(function(e){a("c975"),a("a9e3"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{leaves:null,name:"",startDate:"",startTime:"",endDate:"",endTime:"",countDate:"",reason:"",phone:"",address:"福建省厦门市集美区博闻路",cc:"许落汀",oneCheck:"宋益国",oneCheckDate:"",oneCheckTime:"",oneCheckStatus:"辅导员",oneCheckIdea:"无",twoCheck:"",twoCheckDate:"",twoCheckTime:"",twoCheckStatus:"",twoCheckIdea:"",threeCheck:"",threeCheckDate:"",threeCheckTime:"",threeCheckStatus:"",threeCheckIdea:"",state:"正在休假中",type:"",colorIndex:0,imgFile:"",pwd:""}},onShow:function(){if(this.pwd=uni.getStorageSync("pwd"),this.pwd!=getApp().globalData.pwd&&uni.navigateTo({url:"login"}),this.leaves=uni.getStorageSync("todaySchoolLeaves"),""!=this.leaves&&null!=this.leaves||(this.leaves=[]),this.leaves.length>0){var e=this.leaves[this.leaves.length-1];this.name=e.name,this.type=e.type,this.reason=e.reason,this.phone=e.phone,this.address=e.address,this.cc=e.cc,this.oneCheck=e.oneCheck,this.twoCheck=e.twoCheck,this.threeCheck=e.threeCheck,this.oneCheckStatus=e.oneCheckStatus,this.twoCheckStatus=e.twoCheckStatus,this.threeCheckStatus=e.threeCheckStatus,this.oneCheckIdea=e.oneCheckIdea,this.twoCheckIdea=e.twoCheckIdea,this.threeCheckIdea=e.threeCheckIdea}},methods:{difference:function(t,a){var i=navigator.userAgent;i.indexOf("Safari")>-1&&(t=t.replace(/\-/g,"/"),a=a.replace(/\-/g,"/"));var n=new Date(t).getTime(),s=new Date(a).getTime(),o=s-n,h=Math.floor(o/864e5),l=o%864e5,c=Math.floor(l/36e5),u=l%36e5,r=Math.floor(u/6e4),d="";Number(h)==Number(0)||isNaN(h)||(d=d+h.toString()+"天"),Number(c)==Number(0)||isNaN(c)||(d=d+c.toString()+"小时"),Number(r)==Number(0)||isNaN(r)||(d=d+r.toString()+"分钟"),this.countDate=d,e("log",this.countDate," at pages/addLeave.vue:196")},sub:function(){var t=this;if(""!=this.name&&""!=this.type&&""!=this.startDate&&""!=this.startTime&&""!=this.endDate&&""!=this.endTime&&""!=this.reason&&""!=this.address&&""!=this.cc&&""!=this.phone&&""!=this.oneCheckTime&&""!=this.oneCheckStatus&&""!=this.oneCheck&&""!=this.oneCheckDate&&""!=this.oneCheckIdea)if(this.startDate!=this.endDate||this.startTime!=this.endTime)if(this.reason.length<10)this.toast("请假原因不能少于10字","none");else{this.difference(this.startDate+" "+this.startTime,this.endDate+" "+this.endTime);var a={},i=new Date;a["name"]=this.name,a["type"]=this.type,a["startDate"]=this.startDate+" "+this.startTime,a["endDate"]=this.endDate+" "+this.endTime,a["reason"]=this.reason,a["phone"]=this.phone,a["address"]=this.address,a["cc"]=this.cc,a["oneCheck"]=this.oneCheck,a["oneCheckDate"]=this.oneCheckDate+" "+this.oneCheckTime,a["oneCheckStatus"]=this.oneCheckStatus,a["oneCheckIdea"]=this.oneCheckIdea,a["twoCheck"]=this.twoCheck,a["twoCheckDate"]=this.twoCheckDate+" "+this.twoCheckTime,a["twoCheckStatus"]=this.twoCheckStatus,a["twoCheckIdea"]=this.twoCheckIdea,a["threeCheck"]=this.threeCheck,a["threeCheckDate"]=this.threeCheckDate+" "+this.threeCheckTime,a["threeCheckStatus"]=this.threeCheckStatus,a["threeCheckIdea"]=this.threeCheckIdea,a["state"]=this.state,a["applyDate"]=(Number(i.getMonth()+1).toString().length<=1?"0"+Number(i.getMonth()+1):Number(i.getMonth()+1))+"-"+(i.getDate().toString().length<=1?"0"+i.getDate():i.getDate())+" "+(i.getHours().toString().length<=1?"0"+i.getHours():i.getHours())+":"+(i.getMinutes().toString().length<=1?"0"+i.getMinutes():i.getMinutes()),a["imgFile"]=this.imgFile,a["countDate"]=this.countDate,e("log","this1:"+this.countDate," at pages/addLeave.vue:263"),this.leaves.push(a),e("log",this.leaves," at pages/addLeave.vue:265"),uni.setStorage({key:"todaySchoolLeaves",data:t.leaves,success:function(){t.toast("提交成功","success"),setTimeout((function(){uni.navigateBack({delta:1})}),1600)},fail:function(){t.toast("提交失败，请重试","none")}})}else this.toast("开始日期不能等于结束日期","none");else this.toast("请将必填信息填写完整","none")},bindStartDate:function(t){e("log",t.detail.value.substring(5,t.detail.value.length)," at pages/addLeave.vue:286"),this.startDate=t.detail.value.substring(5,t.detail.value.length)},bindStartTime:function(t){e("log",t.detail.value," at pages/addLeave.vue:291"),this.startTime=t.detail.value},bindEndDate:function(t){e("log",t.detail.value.substring(5,t.detail.value.length)," at pages/addLeave.vue:296"),this.endDate=t.detail.value.substring(5,t.detail.value.length)},bindEndTime:function(t){e("log",t.detail," at pages/addLeave.vue:301"),this.endTime=t.detail.value},bindOneCheckDate:function(t){e("log",t.detail.value.substring(5,t.detail.value.length)," at pages/addLeave.vue:306"),this.oneCheckDate=t.detail.value.substring(5,t.detail.value.length)},bindOneCheckTime:function(t){e("log",t.detail," at pages/addLeave.vue:311"),this.oneCheckTime=t.detail.value},bindColor:function(t){e("log","picker发送选择改变，携带值为",t.target.value," at pages/addLeave.vue:336"),this.colorIndex=t.target.value,this.changColorTitleStyle()},changColorTitleStyle:function(){return 0==this.colorIndex?"line-height: 45px;color:#F79A0D;":1==this.colorIndex?"line-height: 45px;color:black;":2==this.colorIndex?"line-height: 45px;color:red;":void 0},toast:function(e,t){uni.showToast({title:e,icon:t,duration:2e3,mask:!0})}}};t.default=i}).call(this,a("0de9")["log"])},"2d7a":function(e,t,a){var i=a("fb97");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("4e39a297",i,!0,{sourceMap:!1,shadowMode:!1})},4429:function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-label",[e._v("你的名字"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-uni-label",[e._v("请假类型"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"事假/病假"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),a("v-uni-label",[e._v("开始日期/时间"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-view",{staticClass:"pickerView"},[a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",left:"0px"},attrs:{mode:"date",value:"2021-"+e.startDate},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindStartDate.apply(void 0,arguments)}}},[""==e.startDate?a("v-uni-view",{staticStyle:{"line-height":"20px",color:"gray"}},[e._v("开始日期")]):e._e(),""!=e.startDate?a("v-uni-view",{staticStyle:{"line-height":"20px"}},[e._v(e._s(e.startDate))]):e._e()],1),a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",right:"0px"},attrs:{mode:"time",value:e.startTime},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindStartTime.apply(void 0,arguments)}}},[""==e.startTime?a("v-uni-view",{staticStyle:{"line-height":"20px",color:"gray"}},[e._v("开始时间")]):e._e(),""!=e.startTime?a("v-uni-view",{staticStyle:{"line-height":"20px"}},[e._v(e._s(e.startTime))]):e._e()],1)],1),a("v-uni-label",[e._v("结束日期/时间"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-view",{staticClass:"pickerView"},[a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",left:"0px"},attrs:{mode:"date",value:"2020-"+e.endDate},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindEndDate.apply(void 0,arguments)}}},[""==e.endDate?a("v-uni-view",{staticStyle:{"line-height":"20px",color:"gray"}},[e._v("结束日期")]):e._e(),""!=e.endDate?a("v-uni-view",{staticStyle:{"line-height":"20px"}},[e._v(e._s(e.endDate))]):e._e()],1),a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",right:"0px"},attrs:{mode:"time",value:e.endTime},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindEndTime.apply(void 0,arguments)}}},[""==e.endTime?a("v-uni-view",{staticStyle:{"line-height":"20px",color:"gray"}},[e._v("结束时间")]):e._e(),""!=e.endTime?a("v-uni-view",{staticStyle:{"line-height":"20px"}},[e._v(e._s(e.endTime))]):e._e()],1)],1),a("v-uni-label",[e._v("紧急联系人"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"手机号"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),a("v-uni-label",[e._v("请假原因"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"(不少于10字)"},model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}}),a("v-uni-label",[e._v("抄送人"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"许落汀"},model:{value:e.cc,callback:function(t){e.cc=t},expression:"cc"}}),a("v-uni-label",[e._v("一级审批人"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"宋益国"},model:{value:e.oneCheck,callback:function(t){e.oneCheck=t},expression:"oneCheck"}}),a("v-uni-label",[e._v("一级审批人身份"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"辅导员"},model:{value:e.oneCheckStatus,callback:function(t){e.oneCheckStatus=t},expression:"oneCheckStatus"}}),a("v-uni-label",[e._v("一级审批意见"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"无"},model:{value:e.oneCheckIdea,callback:function(t){e.oneCheckIdea=t},expression:"oneCheckIdea"}}),a("v-uni-label",[e._v("一级审批通过日期/时间"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-view",{staticClass:"pickerView"},[a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",left:"0px"},attrs:{mode:"date",value:"2021-"+e.oneCheckDate},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindOneCheckDate.apply(void 0,arguments)}}},[""==e.oneCheckDate?a("v-uni-view",{staticStyle:{"line-height":"20px",color:"gray","z-index":"-1"}},[e._v("审批日期")]):e._e(),""!=e.oneCheckDate?a("v-uni-view",{staticStyle:{"line-height":"20px"}},[e._v(e._s(e.oneCheckDate))]):e._e()],1),a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",right:"0px"},attrs:{mode:"time",value:e.oneCheckTime},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindOneCheckTime.apply(void 0,arguments)}}},[""==e.oneCheckTime?a("v-uni-view",{staticStyle:{"line-height":"20px",color:"gray","z-index":"-1"}},[e._v("审批时间")]):e._e(),""!=e.oneCheckTime?a("v-uni-view",{staticStyle:{"line-height":"20px"}},[e._v(e._s(e.oneCheckTime))]):e._e()],1)],1),a("v-uni-label",[e._v("定位位置"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"福建省厦门市集美区博闻路"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),a("v-uni-view",{staticClass:"sub",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sub.apply(void 0,arguments)}}},[e._v("提交")])],1)},s=[]},"8fa8":function(e,t,a){"use strict";var i=a("2d7a"),n=a.n(i);n.a},a749:function(e,t,a){"use strict";a.r(t);var i=a("0733"),n=a.n(i);for(var s in i)"default"!==s&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},f265:function(e,t,a){"use strict";a.r(t);var i=a("4429"),n=a("a749");for(var s in n)"default"!==s&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("8fa8");var o,h=a("f0c5"),l=Object(h["a"])(n["default"],i["b"],i["c"],!1,null,"2fd7a410",null,!1,i["a"],o);t["default"]=l.exports},fb97:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,"uni-input[data-v-2fd7a410],\nuni-picker[data-v-2fd7a410]{border:%?1?% solid #ccc;margin:%?10?%;margin-top:%?2?%;margin-bottom:%?10?%;padding-left:%?5?%;padding-right:%?5?%;height:%?45?%;border-radius:%?5?%;transition:all .3s ease}uni-input[data-v-2fd7a410]:hover{border:%?1?% solid #007aff;box-shadow:%?0?% %?0?% %?5?% %?1?% #eee}uni-picker[data-v-2fd7a410]:hover{border:%?1?% solid #007aff;box-shadow:%?0?% %?0?% %?5?% %?1?% #eee}uni-label[data-v-2fd7a410]{margin-left:%?10?%;color:#2c906f}.sub[data-v-2fd7a410]{background-color:#38b48b;margin:%?20?%;color:#fff;text-align:center;font-size:%?35?%;height:%?75?%;line-height:%?75?%;border-radius:%?10?%}.pickerView[data-v-2fd7a410]{width:100%;position:relative;height:%?45?%;margin-bottom:%?20?%;text-align:center;z-index:0\n}.pickerView uni-picker[data-v-2fd7a410]{z-index:9999;background-color:#fff}.border-center[data-v-2fd7a410]{border-top:%?1?% solid grey;width:50%;margin:0 auto;position:relative;top:%?25?%}.subRed[data-v-2fd7a410]{font-size:%?20?%;color:red}.subGray[data-v-2fd7a410]{font-size:%?20?%;color:#ffa400}",""]),e.exports=t}}]);